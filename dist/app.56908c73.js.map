{"version":3,"sources":["assets/js/app.js"],"names":["document","addEventListener","app","boardWrapper","querySelector","slider","sliderLabel","civiliansDisplay","impostorDisplay","mrWhiteDisplay","addImpostor","minusImpostor","addWhite","minusWhite","buttons","querySelectorAll","addButtons","minusButtons","startBtn","nbPlayers","nbImpostor","nbWhite","nbInfiltrators","nbCitizens","maxImpostors","maxInfiltrators","init","console","log","handleSlider","handleBtns","startGame","body","classList","add","game","addRole","minusRole","type","updateInfos","innerHTML","btn","style","display","value","Math","floor","increaseInterval","wCount","iCount","i","Player","name","alive","Card","role","word","board","modal","modalForm","modalInfos","modalTitle","modalRole","modalBtn","formBtn","formInput","seeBtn","resetBtn","leaveBtn","playerChosing","inGame","newPlayers","seeCard","overlayActive","activePlayer","playerList","cardList","getWords","generateCards","fillBoard","initCardsListeners","handleModal","e","preventDefault","target","closeModal","window","removeEventListener","attribCard","startRound","playerModal","updateModal","main","title","length","showModal","key","cardClicked","getAttribute","card","playerName","trim","remove","player","push","cardClick","cardClasses","indexOf","displayWord","kickPlayer","alert","updateSeeMode","cards","words","infiltorsCount","badWord","goodWord","sort","random","element","firstCard","leaveGame","confirm","restartGame","restartbtn","force","el","cardIndex","parseInt","found","removeListeners"],"mappings":"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","file":"app.56908c73.js","sourceRoot":"..","sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\r\n\tvar app = {\r\n\t\tboardWrapper: document.querySelector('.board-wrapper'),\r\n\t\tslider: document.querySelector('.playerSlider'),\r\n\t\tsliderLabel: document.querySelector('.slider-label'),\r\n\t\tciviliansDisplay: document.querySelector('.game-infos-civil'),\r\n\t\timpostorDisplay: document.querySelector('.game-infos-impostor .game-infos-text'),\r\n\t\tmrWhiteDisplay: document.querySelector('.game-infos-mrwhite .game-infos-text'),\r\n\t\t//Minus Add btns\r\n\t\taddImpostor: document.querySelector('.game-infos-impostor .add'),\r\n\t\tminusImpostor: document.querySelector('.game-infos-impostor .minus'),\r\n\t\taddWhite: document.querySelector('.game-infos-mrwhite .add'),\r\n\t\tminusWhite: document.querySelector('.game-infos-mrwhite .minus'),\r\n\t\tbuttons: document.querySelectorAll('.game-infos-item button'),\r\n\t\taddButtons: document.querySelectorAll('.game-infos-item button.add'),\r\n\t\tminusButtons: document.querySelectorAll('.game-infos-item button.minus'),\r\n\r\n\t\tstartBtn: document.querySelector('.btn-start'),\r\n\t\tnbPlayers: 5,\r\n\t\tnbImpostor: 1,\r\n\t\tnbWhite: 1,\r\n\t\tnbInfiltrators: 2,\r\n\t\tnbCitizens: 3,\r\n\t\tmaxImpostors: 2,\r\n\t\tmaxInfiltrators: 2,\r\n\r\n\t\tinit: function () {\r\n\t\t\tconsole.log(`%c\r\n    _   _            _____                          _                \r\n   | | | |          |_   _|                        | |               \r\n   | |_| |__   ___    | | _ __ ___  _ __   ___  ___| |_ ___  _ __    \r\n   | __| '_ \\\\ / _ \\\\   | || '_ \\` _ \\\\| '_ \\\\ / _ \\\\/ __| __/ _ \\\\| '__|   \r\n   | |_| | | |  __/  _| || | | | | | |_) | (_) \\\\__ \\\\ || (_) | |      \r\n    \\\\__|_| |_|\\\\___|  \\\\___/_| |_| |_| .__/ \\\\___/|___/\\\\__\\\\___/|_|      \r\n   \t\t\t\t\t\t\t\t   | |                               \r\n\t\t\t\t\t\t\t\t   |_|                               \r\n\t\t\t\t\t\t\t\t\t                                 `, \"background:#1D7D8F;color:#fff;\");\r\n\t\t\tconsole.log(\"%cCreated by Aurélien Tallet & Aurélien NEZZAR.\", \"color:red;\")\r\n\r\n\t\t\tapp.handleSlider();\r\n\t\t\tapp.handleBtns();\r\n\t\t},\r\n\t\tstartGame: function () {\r\n\t\t\tdocument.body.classList.add('startgame')\r\n\t\t\tgame.nbPlayers = app.nbPlayers\r\n\t\t\tgame.nbImpostor = app.nbImpostor\r\n\t\t\tgame.nbWhite = app.nbWhite\r\n\t\t\tgame.nbInfiltrators = app.nbInfiltrators\r\n\t\t\tgame.nbCitizens = app.nbCitizens\r\n\t\t\tgame.init()\r\n\t\t},\r\n\t\thandleBtns: function () {\r\n\t\t\t//Start btn\r\n\t\t\tapp.startBtn.addEventListener('click', app.startGame)\r\n\t\t\t//ADD\r\n\t\t\tapp.addImpostor.addEventListener('click', function () {\r\n\t\t\t\tapp.addRole(0)\r\n\t\t\t})\r\n\t\t\tapp.addWhite.addEventListener('click', function () {\r\n\t\t\t\tapp.addRole(1)\r\n\t\t\t})\r\n\t\t\t//MINUS\r\n\t\t\tapp.minusImpostor.addEventListener('click', function () {\r\n\t\t\t\tapp.minusRole(0)\r\n\t\t\t})\r\n\t\t\tapp.minusWhite.addEventListener('click', function () {\r\n\t\t\t\tapp.minusRole(1)\r\n\t\t\t})\r\n\t\t},\r\n\t\taddRole: function (type) {\r\n\t\t\ttype\r\n\t\t\t\t? app.nbWhite++\r\n\t\t\t\t: app.nbImpostor++\r\n\t\t\tapp.nbInfiltrators++\r\n\t\t\tapp.nbCitizens--\r\n\t\t\tapp.updateInfos()\r\n\t\t},\r\n\t\tminusRole: function (type) {\r\n\t\t\ttype\r\n\t\t\t\t? app.nbWhite--\r\n\t\t\t\t: app.nbImpostor--\r\n\t\t\tapp.nbInfiltrators--\r\n\t\t\tapp.nbCitizens++\r\n\t\t\tapp.updateInfos()\r\n\r\n\t\t},\r\n\t\tupdateInfos: function () {\r\n\t\t\tapp.sliderLabel.innerHTML = 'Joueurs : ' + app.nbPlayers\r\n\t\t\tapp.civiliansDisplay.innerHTML = app.nbCitizens + ' Civils'\r\n\t\t\tapp.impostorDisplay.innerHTML = app.nbImpostor + ' Imposteurs'\r\n\t\t\tapp.mrWhiteDisplay.innerHTML = app.nbWhite + ' Mr.White'\r\n\t\t\t//RESET BTNS\r\n\t\t\tfor (btn of app.buttons) {\r\n\t\t\t\tbtn.style.display = \"block\"\r\n\t\t\t}\r\n\r\n\t\t\t//CONDITIONS\r\n\t\t\tif (app.nbInfiltrators === app.maxInfiltrators) {\r\n\t\t\t\tfor (btn of app.addButtons) {\r\n\t\t\t\t\tbtn.style.display = \"none\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (app.nbInfiltrators === 1) {\r\n\t\t\t\tfor (btn of app.minusButtons) {\r\n\t\t\t\t\tbtn.style.display = \"none\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (app.nbImpostor === app.maxImpostors) app.addImpostor.style.display = \"none\";\r\n\t\t\tif (!app.nbImpostor) app.minusImpostor.style.display = \"none\";\r\n\t\t\tif (!app.nbWhite) app.minusWhite.style.display = \"none\";\r\n\t\t},\r\n\t\thandleSlider: function () {\r\n\t\t\tapp.updateInfos()\r\n\t\t\tapp.slider.addEventListener('input', function () {\r\n\t\t\t\tapp.nbPlayers = this.value\r\n\t\t\t\tapp.nbImpostor = 0\r\n\t\t\t\tapp.nbWhite = 0\r\n\t\t\t\tapp.maxImpostors = 0\r\n\t\t\t\tapp.maxInfiltrators = Math.floor(app.nbPlayers / 2)\r\n\t\t\t\tthis.value % 2 === 0\r\n\t\t\t\t\t? app.maxImpostors += app.maxInfiltrators - 1\r\n\t\t\t\t\t: app.maxImpostors += app.maxInfiltrators\r\n\t\t\t\tlet increaseInterval = 2\r\n\r\n\t\t\t\tlet wCount = 0;\r\n\t\t\t\tiCount = 0;\r\n\t\t\t\tfor (let i = 4; i <= 20; i += 2) {\r\n\t\t\t\t\t!increaseInterval ? wCount++ : iCount++\r\n\t\t\t\t\tif (app.nbPlayers >= i - 1 && app.nbPlayers <= i) {\r\n\t\t\t\t\t\tapp.nbWhite = wCount;\r\n\t\t\t\t\t\tapp.nbImpostor = iCount;\r\n\t\t\t\t\t\tapp.nbInfiltrators = iCount + wCount\r\n\t\t\t\t\t\tapp.nbCitizens = app.nbPlayers - app.nbInfiltrators\r\n\t\t\t\t\t};\r\n\t\t\t\t\tincreaseInterval++\r\n\t\t\t\t\tif (increaseInterval > 2) increaseInterval = 0\r\n\t\t\t\t}\r\n\t\t\t\tapp.updateInfos()\r\n\t\t\t})\r\n\t\t},\r\n\t}\r\n\tapp.init()\r\n\r\n\r\n\tconst Player = function (name, alive = true) {\r\n\t\tthis.name = name;\r\n\t\tthis.alive = alive;\r\n\t}\r\n\r\n\tconst Card = function (role, word) {\r\n\t\tthis.role = role;\r\n\t\tthis.word = word;\r\n\t}\r\n\r\n\tvar game = {\r\n\t\t// ---------INITIALISATION---------\r\n\r\n\t\t//Elements init\r\n\t\tboard: document.querySelector('.board'),\r\n\t\tboardWrapper: document.querySelector('.board-wrapper'),\r\n\t\tmodal: document.querySelector('.modal'),\r\n\t\tmodalForm: document.querySelector('.modal-content-form'),\r\n\t\tmodalInfos: document.querySelector('.modal-content-infos'),\r\n\t\tmodalTitle: document.querySelector('.modal-title'),\r\n\t\tmodalRole: document.querySelector('.modal-role'),\r\n\t\tmodalBtn: document.querySelector('.modal-btn'),\r\n\t\tformBtn: document.querySelector('.form-btn'),\r\n\t\tformInput: document.querySelector('.form-input'),\r\n\t\tseeBtn: document.querySelector('.footer-see'),\r\n\t\tresetBtn: document.querySelector('.footer-reset'),\r\n\t\tleaveBtn: document.querySelector('.header-leave'),\r\n\r\n\r\n\t\t//Variables init\r\n\t\tplayerChosing: false,\r\n\t\tinGame: false,\r\n\t\tnewPlayers: true,\r\n\t\tseeCard: false,\r\n\t\toverlayActive: true,\r\n\t\tactivePlayer: 0,\r\n\t\tnbPlayers: app.nbPlayers,\r\n\t\tnbImpostor: app.nbImpostor,\r\n\t\tnbWhite: app.nbWhite,\r\n\t\tnbInfiltrators: app.nbInfiltrators,\r\n\t\tnbCitizens: app.nbCitizens,\r\n\t\tplayerList: [],\r\n\t\tcardList: [],\r\n\r\n\t\tinit: function () {\r\n\t\t\tgame.getWords();\r\n\t\t\tgame.generateCards();\r\n\t\t\tgame.fillBoard();\r\n\t\t\tgame.initCardsListeners();\r\n\t\t\tgame.handleBtns();\r\n\t\t},\r\n\r\n\t\t// ---------MODALS HANDLE---------\r\n\r\n\t\thandleModal: function (e) {\r\n\t\t\te.preventDefault()\r\n\t\t\tif (e.target === game.modal && game.overlayActive && !game.playerChosing) {\r\n\t\t\t\t//PLAYER CLICK OVERLAY\r\n\t\t\t\tgame.activePlayer--;\r\n\t\t\t\tgame.formInput.value = \"\";\r\n\t\t\t\tgame.closeModal();\r\n\t\t\t\twindow.removeEventListener('click', game.handleModal)\r\n\t\t\t} else if (e.target === game.formBtn) {\r\n\t\t\t\t//PLAYER CHOSE CARD\r\n\t\t\t\tgame.attribCard();\r\n\t\t\t} else if (e.target === game.modalBtn && !game.inGame) {\r\n\t\t\t\t//PLAYER CLICK CONTINUE\r\n\t\t\t\tgame.closeModal()\r\n\t\t\t\tif (game.activePlayer >= game.nbPlayers) {\r\n\t\t\t\t\tgame.startRound();\r\n\t\t\t\t} else if (!game.newPlayers && !game.playerChosing) {\r\n\t\t\t\t\tgame.playerModal()\r\n\t\t\t\t}\r\n\t\t\t} else if (e.target === game.modalBtn) {\r\n\t\t\t\tgame.closeModal();\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdateModal: function (main, title) {\r\n\r\n\t\t\t//Reset modal elements\r\n\t\t\tgame.modalInfos.style.display = \"flex\"\r\n\t\t\tgame.modalForm.style.display = \"none\"\r\n\r\n\t\t\tif (game.inGame || (!game.newPlayers && !game.playerChosing)) {\r\n\t\t\t\t//If all players already chose a card, display directly main & title\r\n\t\t\t\tgame.modalTitle.innerHTML = title;\r\n\t\t\t\tgame.modalRole.innerHTML = main;\r\n\t\t\t} else {\r\n\t\t\t\t//Else update modal to show the role/word\r\n\t\t\t\tif (main.length === 0) {\r\n\t\t\t\t\tgame.modalRole.innerHTML = \"Tu es Mr.s White\"\r\n\t\t\t\t\tgame.modalTitle.innerHTML = `${title}, tu n'as pas de mot secret`\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgame.modalRole.innerHTML = main\r\n\t\t\t\t\tgame.modalTitle.innerHTML = `${title}, votre mot est : `\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcloseModal: function () {\r\n\t\t\t//Reset then close modal (display none)\r\n\t\t\tgame.modalForm.style.display = \"flex\"\r\n\t\t\tgame.modalInfos.style.display = \"none\"\r\n\t\t\tgame.overlayActive = true\r\n\t\t\tgame.modal.style.display = \"none\"\r\n\t\t},\r\n\r\n\t\tshowModal: function () {\r\n\t\t\t//Show modal (display flex)\r\n\t\t\tif (!game.inGame && game.newPlayers) {\r\n\t\t\t\t//If not all players chose there cards and its a new game, display the n°Player that have to choose card\r\n\t\t\t\tgame.modalTitle.innerHTML = `Joueur ${game.activePlayer + 1}`\r\n\t\t\t}\r\n\t\t\tgame.modal.style.display = 'flex'\r\n\t\t\twindow.addEventListener('click', game.handleModal)\r\n\t\t},\r\n\r\n\t\tplayerModal: function () {\r\n\t\t\t//Show who need to choose a card (in case of new game with same players)\r\n\t\t\tgame.updateModal(`Choisis une carte`, game.playerList[game.activePlayer]);\r\n\t\t\tgame.playerChosing = true\r\n\t\t\tgame.showModal();\r\n\t\t},\r\n\r\n\t\t// ---------CARDS HANDLE---------\r\n\r\n\t\tattribCard: function () {\r\n\t\t\t//Attribute a player to a card\r\n\t\t\tconst key = game.cardClicked.getAttribute(\"data-key\");\r\n\t\t\tconst card = game.cardList[key];\r\n\t\t\tlet playerName = \"\";\r\n\r\n\t\t\t//If new players set playername to the formInput value, otherwise its the next player in the list\r\n\t\t\tgame.newPlayers\r\n\t\t\t\t? playerName += game.formInput.value\r\n\t\t\t\t: playerName += game.playerList[game.activePlayer]\r\n\t\t\tif (playerName.trim() != \"\") {\r\n\t\t\t\t//Player attribution\r\n\t\t\t\tgame.cardClicked.classList.remove('active')\r\n\t\t\t\tgame.cardClicked.classList.add('player')\r\n\t\t\t\tgame.cardClicked.innerHTML += `<div class=\"content\"> <p>${playerName[0]}</p></div>`\r\n\t\t\t\tgame.cardClicked.innerHTML += `<p class=\"name\">${playerName}</p>`\r\n\t\t\t\tcard.player = new Player(playerName)\r\n\t\t\t\tgame.updateModal(card.word, playerName, false);\r\n\t\t\t\tgame.overlayActive = false\r\n\r\n\t\t\t\t//If new players push playername to playerlist, else existing player is no longer chosing a card\r\n\t\t\t\tif (game.newPlayers) {\r\n\t\t\t\t\tgame.playerList.push(card.player.name)\r\n\t\t\t\t\tgame.formInput.value = \"\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgame.playerChosing = false;\r\n\t\t\t\t\tgame.showModal()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcardClick: function () {\r\n\t\t\t//When a player click on a card\r\n\t\t\tconst cardClasses = this.classList.value\r\n\t\t\tif (cardClasses.indexOf('active') >= 0) {\r\n\t\t\t\t//If card is not already chosed\r\n\t\t\t\tgame.cardClicked = this;\r\n\t\t\t\tif (!game.newPlayers) {\r\n\t\t\t\t\tgame.attribCard()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgame.showModal()\r\n\t\t\t\t}\r\n\t\t\t\tgame.activePlayer++;\r\n\t\t\t} else if (game.seeCard && cardClasses.indexOf('eliminated') < 0) {\r\n\t\t\t\tgame.displayWord(this.getAttribute(\"data-word\"));\r\n\t\t\t} else if (game.inGame && cardClasses.indexOf('eliminated') < 0) {\r\n\t\t\t\tgame.kickPlayer(this);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdisplayWord: function (word) {\r\n\t\t\t//Display a word in alert popin\r\n\t\t\talert(`Votre mot est : ${word}`)\r\n\t\t\tgame.updateSeeMode();\r\n\r\n\t\t},\r\n\r\n\r\n\t\tinitCardsListeners: function () {\r\n\t\t\tconst cards = document.querySelectorAll('.board-card')\r\n\t\t\tfor (card of cards) {\r\n\t\t\t\tcard.addEventListener('click', game.cardClick)\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgenerateCards: function () {\r\n\t\t\tconst { nbImpostor, cardList, words, nbPlayers } = game\r\n\t\t\tlet infiltorsCount = 0\r\n\t\t\tfor (let i = 0; i < nbPlayers; i++) {\r\n\t\t\t\tif (i < game.nbInfiltrators) {\r\n\t\t\t\t\tif (infiltorsCount < nbImpostor) {\r\n\t\t\t\t\t\tcardList.push(new Card('impostor', words.badWord))\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcardList.push(new Card('mr.white', ''))\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinfiltorsCount++\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcardList.push(new Card('citizen', words.goodWord))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcardList.sort(() => Math.random() - 0.5);\r\n\t\t\tfor (let i = 0; i < cardList.length; i++) {\r\n\t\t\t\tconst { role, word } = cardList[i];\r\n\t\t\t\tcardList[i].key = i;\r\n\t\t\t\tcardList[i].element = `<div class=\"board-card active\" data-role=\"${role}\" data-word=\"${word}\" data-key=\"${i}\"></div>`\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// ---------GAME HANDLE---------\r\n\t\tstartRound: function () {\r\n\t\t\tgame.inGame = true;\r\n\t\t\tgame.seeBtn.style.display = \"block\"\r\n\t\t\tlet firstCard = this.cardList[Math.floor(Math.random() * this.cardList.length)]\r\n\t\t\twhile (firstCard.role === \"mr.white\") {\r\n\t\t\t\tfirstCard = this.cardList[Math.floor(Math.random() * this.cardList.length)]\r\n\t\t\t}\r\n\t\t\tgame.updateModal(`${firstCard.player.name},commence`, \"Décrivez votre mot\");\r\n\t\t\tgame.showModal();\r\n\t\t},\r\n\r\n\t\tleaveGame: function () {\r\n\t\t\tif (confirm('Quitter la partie ?')) {\r\n\t\t\t\tgame.playerList = []\r\n\t\t\t\tgame.cardList = []\r\n\t\t\t\tgame.newPlayers = true\r\n\t\t\t\tgame.playerChosing = false\r\n\t\t\t\tgame.inGame = false\r\n\t\t\t\tgame.newPlayers = true\r\n\t\t\t\tgame.seeCard = false\r\n\t\t\t\tgame.overlayActive = true\r\n\t\t\t\tgame.activePlayer = 0\r\n\t\t\t\tgame.board.innerHTML = \"\";\r\n\t\t\t\tdocument.body.classList.remove('startgame')\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\trestartGame: function () {\r\n\t\t\tgame.seeBtn.style.display = \"none\"\r\n\t\t\tgame.cardList = [];\r\n\t\t\tgame.board.innerHTML = \"\";\r\n\t\t\tgame.generateCards();\r\n\t\t\tgame.fillBoard();\r\n\t\t\tgame.initCardsListeners();\r\n\t\t\tgame.activePlayer = 0;\r\n\r\n\t\t\tif (game.inGame) {\r\n\t\t\t\tgame.newPlayers = false;\r\n\t\t\t\tgame.playerModal()\r\n\t\t\t} else if (!game.newPlayers) {\r\n\t\t\t\tgame.playerModal()\r\n\t\t\t} else {\r\n\t\t\t\tgame.playerList = []\r\n\t\t\t}\r\n\t\t\tgame.inGame = false;\r\n\t\t},\r\n\r\n\r\n\t\trestartbtn: function (force = 0) {\r\n\t\t\tif (confirm('Changer de mots ?\\nLe tour en cours sera réinitialisé')) game.restartGame()\r\n\t\t},\r\n\r\n\t\tkickPlayer: function (el) {\r\n\t\t\tlet cardIndex = parseInt(el.getAttribute(\"data-key\"))\r\n\t\t\tconst card = game.cardList[cardIndex]\r\n\t\t\tif (!confirm(`Eliminer ${card.player.name} ?`)) return\r\n\t\t\tel.classList.add('eliminated')\r\n\t\t\tcard.player.alive = false\r\n\t\t\tif (card.role === \"impostor\" || card.role === \"mr.white\") {\r\n\t\t\t\tgame.nbInfiltrators--\r\n\t\t\t} else {\r\n\t\t\t\tgame.nbCitizens--\r\n\t\t\t}\r\n\t\t\tlet found = game.cardList[cardIndex + 1] || game.cardList[0];\r\n\t\t\twhile (!found.player.alive) {\r\n\t\t\t\tcardIndex++\r\n\t\t\t\tfound = game.cardList[cardIndex + 1]\r\n\t\t\t}\r\n\r\n\t\t\tif (this.nbInfiltrators > this.nbCitizens) {\r\n\t\t\t\talert('les inflitrés ont gagné');\r\n\t\t\t\tgame.restartGame();\r\n\t\t\t} else if (this.nbInfiltrators === 1 && this.nbCitizens === 1) {\r\n\t\t\t\talert('les inflitrés ont gagné');\r\n\t\t\t\tgame.restartGame();\r\n\t\t\t} else if (this.nbInfiltrators === 0) {\r\n\t\t\t\talert('les civils ont gagné');\r\n\t\t\t\tgame.restartGame();\r\n\t\t\t} else {\r\n\t\t\t\tgame.updateModal(card.player.name, `Un ${card.role} à été éliminé !`);\r\n\t\t\t\tgame.showModal();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetWords: function () {\r\n\t\t\tgame.words = { goodWord: 'salut', badWord: 'aurevoir' };\r\n\t\t},\r\n\r\n\t\tfillBoard: function () {\r\n\t\t\tfor (card of game.cardList) {\r\n\t\t\t\tgame.board.innerHTML += card.element\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t// ---------OTHER STUFF---------\r\n\t\tremoveListeners: function () {\r\n\t\t\tconst cards = document.querySelectorAll('.board-card')\r\n\t\t\tfor (card of cards) {\r\n\t\t\t\tcard.removeEventListener('click', game.cardClick)\r\n\t\t\t}\r\n\r\n\t\t\tgame.leaveBtn.removeEventListener(\"click\", game.leaveGame)\r\n\t\t\tgame.resetBtn.removeEventListener(\"click\", game.restartbtn)\r\n\t\t},\r\n\t\tupdateSeeMode: function () {\r\n\t\t\tgame.seeCard = !game.seeCard\r\n\t\t\tif (game.seeCard) {\r\n\t\t\t\tgame.boardWrapper.classList.add('watching')\r\n\t\t\t} else {\r\n\t\t\t\tgame.boardWrapper.classList.remove('watching')\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleBtns: function () {\r\n\t\t\tgame.leaveBtn.addEventListener(\"click\", game.leaveGame)\r\n\t\t\tgame.seeBtn.addEventListener(\"click\", game.updateSeeMode)\r\n\t\t\tgame.resetBtn.addEventListener(\"click\", game.restartbtn)\r\n\t\t},\r\n\t}\r\n})"]}