{"version":3,"sources":["assets/js/app.js"],"names":["document","addEventListener","app","slider","querySelector","sliderLabel","civiliansDisplay","impostorDisplay","mrWhiteDisplay","nbPlayers","nbImpostor","nbWhite","nbInfiltrators","nbCivilians","updateInfos","innerHTML","handleSlider","value","maxImpostors","maxInfiltrators","Math","floor","increaseInterval","wCount","iCount","i","console","log","init","Player","name","alive","Card","role","word","game","board","modal","modalForm","modalInfos","modalTitle","modalRole","modalBtn","formBtn","formInput","seeBtn","resetBtn","playerChosing","inGame","newPlayers","seeCard","overlayActive","nbCitizens","activePlayer","playerList","cardList","getWords","generateCards","fillBoard","initCardsListeners","handleBtns","handleModal","e","preventDefault","target","closeModal","window","removeEventListener","attribCard","startRound","playerModal","updateModal","main","title","style","display","length","showModal","key","cardClicked","getAttribute","card","playerName","trim","classList","remove","add","player","push","cardClick","cardClasses","indexOf","displayWord","kickPlayer","alert","updateSeeMode","cards","querySelectorAll","words","infiltorsCount","badWord","goodWord","sort","random","element","firstCard","restartGame","el","cardIndex","parseInt","confirm","found","removeListeners","activeCards"],"mappings":"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","file":"app.56908c73.js","sourceRoot":"..","sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\r\n\tvar app = {\r\n\t\tslider: document.querySelector('.playerSlider'),\r\n\t\tsliderLabel: document.querySelector('.slider-label'),\r\n\t\tciviliansDisplay: document.querySelector('.game-infos-civil'),\r\n\t\timpostorDisplay: document.querySelector('.game-infos-impostor .game-infos-text'),\r\n\t\tmrWhiteDisplay: document.querySelector('.game-infos-mrwhite .game-infos-text'),\r\n\t\tnbPlayers: 5,\r\n\t\tnbImpostor: 1,\r\n\t\tnbWhite: 1,\r\n\t\tnbInfiltrators: 2,\r\n\t\tnbCivilians: 3,\r\n\t\tupdateInfos:function(){\r\n\t\t\tapp.sliderLabel.innerHTML = 'Joueurs : ' + app.nbPlayers\r\n\t\t\tapp.civiliansDisplay.innerHTML = app.nbCivilians + ' Civils'\r\n\t\t\tapp.impostorDisplay.innerHTML = app.nbImpostor + ' Imposteurs'\r\n\t\t\tapp.mrWhiteDisplay.innerHTML = app.nbWhite + ' Mr.White'\r\n\t\t},\r\n\t\thandleSlider: function () {\r\n\t\t\tapp.updateInfos()\r\n\t\t\tapp.slider.addEventListener('input', function () {\r\n\t\t\t\tapp.nbPlayers = this.value\r\n\t\t\t\tapp.nbImpostor = 0\r\n\t\t\t\tapp.nbWhite = 0\r\n\t\t\t\tlet maxImpostors = 0\r\n\t\t\t\tlet maxInfiltrators = Math.floor(app.nbPlayers / 2)\r\n\t\t\t\tthis.value % 2 === 0\r\n\t\t\t\t\t? maxImpostors += maxInfiltrators - 1\r\n\t\t\t\t\t: maxImpostors += maxInfiltrators\r\n\t\t\t\tlet increaseInterval = 2\r\n\r\n\t\t\t\tlet wCount = 0;\r\n\t\t\t\t\tiCount = 0;\r\n\t\t\t\tfor (let i = 4; i <= 20; i += 2) {\r\n\t\t\t\t\t!increaseInterval ? wCount++ : iCount++\r\n\t\t\t\t\tif (app.nbPlayers >= i - 1 && app.nbPlayers <= i) {\r\n\t\t\t\t\t\tapp.nbWhite = wCount;\r\n\t\t\t\t\t\tapp.nbImpostor = iCount;\r\n\t\t\t\t\t\tconsole.log(wCount);\r\n\t\t\t\t\t\tapp.nbInfiltrators = iCount + wCount\r\n\t\t\t\t\t\tapp.nbCivilians = app.nbPlayers - app.nbInfiltrators\r\n\t\t\t\t\t};\r\n\t\t\t\t\tincreaseInterval++\r\n\t\t\t\t\tif (increaseInterval > 2) increaseInterval = 0\r\n\t\t\t\t}\r\n\t\t\t\tapp.updateInfos()\r\n\t\t\t})\r\n\t\t},\r\n\t\tinit: function () {\r\n\t\t\tapp.handleSlider();\r\n\t\t},\r\n\t}\r\n\tapp.init()\r\n\r\n\r\n\tconst Player = function (name, alive = true) {\r\n\t\tthis.name = name;\r\n\t\tthis.alive = alive;\r\n\t}\r\n\r\n\tconst Card = function (role, word) {\r\n\t\tthis.role = role;\r\n\t\tthis.word = word;\r\n\t}\r\n\r\n\tvar game = {\r\n\t\t// ---------INITIALISATION---------\r\n\r\n\t\t//Elements init\r\n\t\tboard: document.querySelector('.board'),\r\n\t\tmodal: document.querySelector('.modal'),\r\n\t\tmodalForm: document.querySelector('.modal-content-form'),\r\n\t\tmodalInfos: document.querySelector('.modal-content-infos'),\r\n\t\tmodalTitle: document.querySelector('.modal-title'),\r\n\t\tmodalRole: document.querySelector('.modal-role'),\r\n\t\tmodalBtn: document.querySelector('.modal-btn'),\r\n\t\tformBtn: document.querySelector('.form-btn'),\r\n\t\tformInput: document.querySelector('.form-input'),\r\n\t\tseeBtn: document.querySelector('.footer-see'),\r\n\t\tresetBtn: document.querySelector('.footer-reset'),\r\n\r\n\r\n\t\t//Variables init\r\n\t\tplayerChosing: false,\r\n\t\tinGame: false,\r\n\t\tnewPlayers: true,\r\n\t\tseeCard: false,\r\n\t\toverlayActive: true,\r\n\t\tnbPlayers: 3,\r\n\t\tnbImpostor: 1,\r\n\t\tnbWhite: 0,\r\n\t\tnbInfiltrators: 1 + 0,\r\n\t\tnbCitizens: 3 - (1 + 0),\r\n\t\tactivePlayer: 0,\r\n\t\tplayerList: [],\r\n\t\tcardList: [],\r\n\r\n\t\tinit: function () {\r\n\t\t\tgame.getWords();\r\n\t\t\tgame.generateCards();\r\n\t\t\tgame.fillBoard();\r\n\t\t\tgame.initCardsListeners();\r\n\t\t\tgame.handleBtns();\r\n\t\t},\r\n\r\n\t\t// ---------MODALS HANDLE---------\r\n\r\n\t\thandleModal: function (e) {\r\n\t\t\te.preventDefault()\r\n\t\t\tif (e.target === game.modal && game.overlayActive & !game.playerChosing) {\r\n\t\t\t\t//PLAYER CLICK OVERLAY\r\n\t\t\t\tgame.activePlayer--;\r\n\t\t\t\tgame.formInput.value = \"\";\r\n\t\t\t\tgame.closeModal();\r\n\t\t\t\twindow.removeEventListener('click', game.handleModal)\r\n\t\t\t} else if (e.target === game.formBtn) {\r\n\t\t\t\t//PLAYER CHOSE CARD\r\n\t\t\t\tgame.attribCard();\r\n\t\t\t} else if (e.target === game.modalBtn && !game.inGame) {\r\n\t\t\t\t//PLAYER CLICK CONTINUE\r\n\t\t\t\tgame.closeModal()\r\n\t\t\t\tif (game.activePlayer >= game.nbPlayers) {\r\n\t\t\t\t\tgame.startRound();\r\n\t\t\t\t} else if (!game.newPlayers && !game.playerChosing) {\r\n\t\t\t\t\tgame.playerModal()\r\n\t\t\t\t}\r\n\t\t\t} else if (e.target === game.modalBtn) {\r\n\t\t\t\tgame.closeModal();\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdateModal: function (main, title) {\r\n\r\n\t\t\t//Reset modal elements\r\n\t\t\tgame.modalInfos.style.display = \"flex\"\r\n\t\t\tgame.modalForm.style.display = \"none\"\r\n\r\n\t\t\tif (game.inGame) {\r\n\t\t\t\t//If all players already chose a card, display directly main & title\r\n\t\t\t\tgame.modalTitle.innerHTML = title;\r\n\t\t\t\tgame.modalRole.innerHTML = main;\r\n\t\t\t} else if (!game.newPlayers && !game.playerChosing) {\r\n\t\t\t\t//Else if its a new game with same players and nobdy is chosing a card, display directly main & title\r\n\t\t\t\tgame.modalTitle.innerHTML = title;\r\n\t\t\t\tgame.modalRole.innerHTML = main;\r\n\t\t\t} else {\r\n\t\t\t\t//Else update modal to show the role/word\r\n\t\t\t\tif (main.length === 0) {\r\n\t\t\t\t\tgame.modalRole.innerHTML = \"Tu es Mr.s White\"\r\n\t\t\t\t\tgame.modalTitle.innerHTML = `${title}, tu n'as pas de mot secret`\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgame.modalRole.innerHTML = main\r\n\t\t\t\t\tgame.modalTitle.innerHTML = `${title}, votre mot est : `\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcloseModal: function () {\r\n\t\t\t//Reset then close modal (display none)\r\n\t\t\tgame.modalForm.style.display = \"flex\"\r\n\t\t\tgame.modalInfos.style.display = \"none\"\r\n\t\t\tgame.overlayActive = true\r\n\t\t\tgame.modal.style.display = \"none\"\r\n\t\t},\r\n\r\n\t\tshowModal: function () {\r\n\t\t\t//Show modal (display flex)\r\n\t\t\tif (!game.inGame && game.newPlayers) {\r\n\t\t\t\t//If not all players chose there cards and its a new game, display the n°Player that have to choose card\r\n\t\t\t\tgame.modalTitle.innerHTML = `Joueur ${game.activePlayer + 1}`\r\n\t\t\t}\r\n\t\t\tgame.modal.style.display = 'flex'\r\n\t\t\twindow.addEventListener('click', game.handleModal)\r\n\t\t},\r\n\r\n\t\tplayerModal: function () {\r\n\t\t\t//Show who need to choose a card (in case of new game with same players)\r\n\t\t\tgame.updateModal(`Choisis une carte`, game.playerList[game.activePlayer]);\r\n\t\t\tgame.playerChosing = true\r\n\t\t\tgame.showModal();\r\n\t\t},\r\n\r\n\t\t// ---------CARDS HANDLE---------\r\n\r\n\t\tattribCard: function () {\r\n\t\t\t//Attribute a player to a card\r\n\t\t\tconst key = game.cardClicked.getAttribute(\"data-key\");\r\n\t\t\tconst card = game.cardList[key];\r\n\t\t\tlet playerName = \"\";\r\n\r\n\t\t\t//If new players set playername to the formInput value, otherwise its the next player in the list\r\n\t\t\tgame.newPlayers\r\n\t\t\t\t? playerName += game.formInput.value\r\n\t\t\t\t: playerName += game.playerList[game.activePlayer]\r\n\t\t\tif (playerName.trim() != \"\") {\r\n\t\t\t\t//Player attribution\r\n\t\t\t\tgame.cardClicked.classList.remove('active')\r\n\t\t\t\tgame.cardClicked.classList.add('player')\r\n\t\t\t\tgame.cardClicked.innerHTML += `<div class=\"content\"> <p>${playerName[0]}</p></div>`\r\n\t\t\t\tgame.cardClicked.innerHTML += `<p class=\"name\">${playerName}</p>`\r\n\t\t\t\tcard.player = new Player(playerName)\r\n\t\t\t\tgame.updateModal(card.word, playerName, false);\r\n\t\t\t\tgame.overlayActive = false\r\n\r\n\t\t\t\t//If new players push playername to playerlist, else existing player is no longer chosing a card\r\n\t\t\t\tif (game.newPlayers) {\r\n\t\t\t\t\tgame.playerList.push(card.player.name)\r\n\t\t\t\t\tgame.formInput.value = \"\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgame.playerChosing = false;\r\n\t\t\t\t\tgame.showModal()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcardClick: function () {\r\n\t\t\t//When a player click on a card\r\n\t\t\tconst cardClasses = this.classList.value\r\n\t\t\tif (cardClasses.indexOf('active') >= 0) {\r\n\t\t\t\t//If card is not already chosed\r\n\t\t\t\tgame.cardClicked = this;\r\n\t\t\t\tif (!game.newPlayers) {\r\n\t\t\t\t\tgame.attribCard()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgame.showModal()\r\n\t\t\t\t}\r\n\t\t\t\tgame.activePlayer++;\r\n\t\t\t} else if (game.seeCard && cardClasses.indexOf('eliminated') < 0) {\r\n\t\t\t\tgame.displayWord(this.getAttribute(\"data-word\"));\r\n\t\t\t} else if (game.inGame && cardClasses.indexOf('eliminated') < 0) {\r\n\t\t\t\tgame.kickPlayer(this);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdisplayWord: function (word) {\r\n\t\t\t//Display a word in alert popin\r\n\t\t\talert(`Votre mot est : ${word}`)\r\n\t\t\tgame.updateSeeMode();\r\n\r\n\t\t},\r\n\r\n\r\n\t\tinitCardsListeners: function () {\r\n\t\t\tconst cards = document.querySelectorAll('.board-card')\r\n\t\t\tfor (card of cards) {\r\n\t\t\t\tcard.addEventListener('click', game.cardClick)\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgenerateCards: function () {\r\n\t\t\tconst { nbImpostor, cardList, words, nbPlayers } = game\r\n\t\t\tlet infiltorsCount = 0\r\n\t\t\tfor (let i = 0; i < nbPlayers; i++) {\r\n\t\t\t\tif (i < game.nbInfiltrators) {\r\n\t\t\t\t\tif (infiltorsCount < nbImpostor) {\r\n\t\t\t\t\t\tcardList.push(new Card('impostor', words.badWord))\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcardList.push(new Card('mr.white', ''))\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinfiltorsCount++\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcardList.push(new Card('citizen', words.goodWord))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcardList.sort(() => Math.random() - 0.5);\r\n\t\t\tfor (let i = 0; i < cardList.length; i++) {\r\n\t\t\t\tconst { role, word } = cardList[i];\r\n\t\t\t\tcardList[i].key = i;\r\n\t\t\t\tcardList[i].element = `<div class=\"board-card active\" data-role=\"${role}\" data-word=\"${word}\" data-key=\"${i}\"></div>`\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// ---------GAME HANDLE---------\r\n\t\tstartRound: function () {\r\n\t\t\tgame.inGame = true;\r\n\t\t\tgame.seeBtn.style.display = \"block\"\r\n\t\t\tlet firstCard = this.cardList[Math.floor(Math.random() * this.cardList.length)]\r\n\t\t\twhile (firstCard.role === \"mr.white\") {\r\n\t\t\t\tfirstCard = this.cardList[Math.floor(Math.random() * this.cardList.length)]\r\n\t\t\t}\r\n\t\t\tgame.updateModal(`${firstCard.player.name},commence`, \"Décrivez votre mot\");\r\n\t\t\tgame.showModal();\r\n\t\t},\r\n\r\n\t\trestartGame: function () {\r\n\t\t\tgame.cardList = [];\r\n\t\t\tgame.board.innerHTML = \"\";\r\n\t\t\tgame.generateCards();\r\n\t\t\tgame.fillBoard();\r\n\t\t\tgame.initCardsListeners();\r\n\t\t\tgame.activePlayer = 0;\r\n\r\n\t\t\tif (game.inGame) {\r\n\t\t\t\tgame.newPlayers = false;\r\n\t\t\t\tgame.playerModal()\r\n\t\t\t} else if (!game.newPlayers) {\r\n\t\t\t\tgame.playerModal()\r\n\t\t\t} else {\r\n\t\t\t\tgame.playerList = []\r\n\t\t\t}\r\n\t\t\tgame.inGame = false;\r\n\t\t},\r\n\r\n\t\tkickPlayer: function (el) {\r\n\t\t\tlet cardIndex = parseInt(el.getAttribute(\"data-key\"))\r\n\t\t\tconst card = game.cardList[cardIndex]\r\n\t\t\tif (!confirm(`Eliminer ${card.player.name} ?`)) return\r\n\t\t\tel.classList.add('eliminated')\r\n\t\t\tcard.player.alive = false\r\n\t\t\tif (card.role === \"impostor\" || card.role === \"mr.white\") {\r\n\t\t\t\tgame.nbInfiltrators--\r\n\t\t\t} else {\r\n\t\t\t\tgame.nbCitizens--\r\n\t\t\t}\r\n\t\t\tlet found = game.cardList[cardIndex + 1] || game.cardList[0];\r\n\t\t\twhile (!found.player.alive) {\r\n\t\t\t\tcardIndex++\r\n\t\t\t\tfound = game.cardList[cardIndex + 1]\r\n\t\t\t}\r\n\r\n\t\t\tif (this.nbInfiltrators > this.nbCitizens) {\r\n\t\t\t\talert('les inflitrés ont gagné');\r\n\t\t\t\tgame.restartGame();\r\n\t\t\t} else if (this.nbInfiltrators === 1 && this.nbCitizens === 1) {\r\n\t\t\t\talert('les inflitrés ont gagné');\r\n\t\t\t\tgame.restartGame();\r\n\t\t\t} else if (this.nbInfiltrators === 0) {\r\n\t\t\t\talert('les civils ont gagné');\r\n\t\t\t\tgame.restartGame();\r\n\t\t\t} else {\r\n\t\t\t\tgame.updateModal(card.player.name, `Un ${card.role} à été éliminé !`);\r\n\t\t\t\tgame.showModal();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetWords: function () {\r\n\t\t\tgame.words = { goodWord: 'salut', badWord: 'aurevoir' };\r\n\t\t},\r\n\r\n\t\tfillBoard: function () {\r\n\t\t\tfor (card of game.cardList) {\r\n\t\t\t\tgame.board.innerHTML += card.element\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t// ---------OTHER STUFF---------\r\n\t\tremoveListeners: function () {\r\n\t\t\tconst cards = document.querySelectorAll('.board-card')\r\n\t\t\tfor (card of cards) {\r\n\t\t\t\tcard.removeEventListener('click', game.cardClick)\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdateSeeMode: function () {\r\n\t\t\tconst activeCards = document.querySelectorAll('.board-card:not(.eliminated)')\r\n\t\t\tgame.seeCard = !game.seeCard\r\n\t\t\tif (game.seeCard) {\r\n\t\t\t\tfor (card of activeCards) {\r\n\t\t\t\t\tcard.classList.add('watching')\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (card of activeCards) {\r\n\t\t\t\t\tcard.classList.remove('watching')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleBtns: function () {\r\n\t\t\tgame.seeBtn.addEventListener(\"click\", game.updateSeeMode)\r\n\t\t\tgame.resetBtn.addEventListener(\"click\", function () {\r\n\t\t\t\tif (confirm('Changer de mots ?\\nLe tour en cours sera réinitialisé')) game.restartGame()\r\n\r\n\t\t\t})\r\n\t\t},\r\n\t}\r\n\t// game.init()\r\n})"]}